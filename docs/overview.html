<!DOCTYPE html><?xml version='1.0' encoding='UTF-8'?><html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>TUI Overview</title><style>:root{--global-color-background: #ffffff;--global-color-background-contrast: #000000;--global-color-text: #2e2e2e;--global-color-text-contrast: #ffffff;--global-color-border: #b4b4b4;--global-color-border-contrast: #000000;--global-color-action: #00c6fc;--global-color-action-contrast: #000000;--global-color-cancel: #dedede;--global-color-cancel-contrast: #000000;--global-color-delete: #fc2803;--global-color-delete-contrast: #ffffff;--global-color-neutral-state: #e6e6e6;--global-color-neutral-state-contrast: #000000;--global-color-green-state: #73fa46;--global-color-green-state-contrast: #000000;--global-color-red-state: #fc2803;--global-color-red-state-contrast: #ffffff;--global-color-fetch-error: #ffc800;--global-color-fetch-error-contrast: #000000;--table-color-row-hover: #c0f0fc;--table-color-row-hover-contrast: #000000;}* { color:var(--global-color-text);font-family:Public Sans Web, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol; }body { padding:0px 0px 0px 0px;margin:0px 0px 0px 0px;font-family:Arial, sans-serif;min-height:100vh; }h1 { padding:0px 0px 0px 0px;font-size:2,000000em; }h2 { padding:0px 0px 0px 0px;font-size:1,500000em; }h3 { padding:0px 0px 0px 0px;font-weight:lighter;font-size:1,200000em; }h4 { padding:0px 0px 0px 0px;font-weight:lighter;font-size:1,100000em;font-style:italic; }a { color:var(--global-color-action); }header { background-color:var(--global-color-background);padding:10px 10px 10px 10px;color:var(--global-color-background-contrast);vertical-align:middle;border-width:0px 0px 1px 0px; }header a { text-decoration:none;text-align:center; }header button[type='submit'] { background-color:transparent;cursor:pointer;padding:0px 5px 0px 5px;text-decoration:underline;border-style:none; }footer { background-color:var(--global-color-background);padding:10px 10px 10px 10px;color:var(--global-color-background-contrast);border-width:1px 0px 0px 0px;height:50px; }section { margin:30px 0px 0px 0px;text-align:left; }p { padding:0px 0px 0px 0px;margin:0px 0px 10px 0px;text-align:left; }.tui-border-on {    border: 1px solid var(--global-color-border);}.tui-reading-normal-area { /* In NORMAL layout, the width of central area is given. */    width: 70em;}.tui-reading-wide-margin { /* In WIDE layout, the width of margins are given. */   width: 20px;}.tui-align-left {    text-align: left;}.tui-align-right {    text-align: right;}.tui-align-center {    text-align: center;}.tui-align-stretch {    text-align: justify;}/* TABS */.tui-tabnav {    display: flex;    justify-content: left;    align-items: center;}.tui-tablink {    font-size: 1em;    padding-left: 30px;    padding-right: 30px;    cursor: pointer;    background: none;    border-radius: 0px;    border-left: none;    border-top: none;    border-right: none;    border-bottom: 1px solid var(--global-color-border);}.tui-tablink-active {    border-bottom: 3px solid var(--global-color-action);}/* LAYOUTS */.tui-vertical-spacing-fit {    padding-top: 0px;}.tui-vertical-spacing-compact {    padding-top: 10px;}.tui-vertical-spacing-normal {    padding-top: 20px;}.tui-vertical-spacing-large {    padding-top: 30px;}.tui-horizontal-spacing-fit {    margin-right: 0px;}.tui-horizontal-spacing-compact {    margin-right: 10px;}.tui-horizontal-spacing-normal {    margin-right: 20px;}.tui-horizontal-spacing-large {    margin-right: 30px;}.tui-grid {    display: grid;    width: 100%;    margin: 0px;    padding: 0px;    justify-items: stretch;}.tui-vertical-scroll {    overflow-y: auto;}/* SEARCH */tui-search-form {	margin: 10px 0px 10px 0px;}search>div {	display: inline-block;}search>label {	margin-right: 10px;}/* FORM */tui-form {    margin: 10px 0px 10px 0px;    width: 400px;}fieldset {    border: 1px solid var(--global-color-border);    background: var(--global-color-background);    position: relative;}/* https://www.youtube.com/watch?v=ezP4kbOvs_E */@property --angle {    syntax: "<angle>";    initial-value: 0deg;    inherits: false;}.form-pending::after {    content: '';    position: absolute;    height: 100%;    width: 100%;    top: 50%;    left: 50%;    translate: -50% -50%;    z-index: -1;    padding: 3px;    background-image: conic-gradient(from var(--angle), var(--global-color-background) 0% 50%, var(--global-color-action) 50% 100%);    animation: 1s spin linear infinite;}@keyframes spin {    from {        --angle: 0deg;    }    to {        --angle: 360deg;    }}.tui-form-input {    margin-top: 10px;    text-align: left;}.tui-form-input>label {    display: block;    width: 100%;    text-align: left;    vertical-align: top;}.tui-form-input>input {    width: 100%;    padding-left: 15px;    box-sizing: border-box;}.tui-form-input>.label-checkbox {    display: inline;    width: auto;}.tui-form-input>input[type='checkbox'] {    display: inline;    width: auto;    text-align: left;    margin-left: 15px;}.tui-form-input-invalid {    border: 2px solid var(--global-color-red-state);}.tui-input-error {    color: red;    font-size: smaller;}.tui-form-footer {    margin-top: 15px;}.tui-form-message {    margin-top: 5px;    margin-bottom: 5px;}.tui-form-close-button, .tui-form-reset-button {	background: none;	padding-left: 5px;	padding-right: 5px;	border: none;	color: var(--global-color-background-contrast);	text-decoration: underline;	cursor: pointer;}.tui-form-radio-inline {	display: inline-block;     margin-right: 10px;}.modal {    max-width: 50ch;}.modal::backdrop {    background: var(--global-color-background-contrast);    opacity: .5}/* BUTTON */.tui-refresh-button-container {	display: inline-block;}button { background-color:var(--global-color-cancel);border-radius:2px;cursor:pointer;padding:5px 20px 5px 20px;color:var(--global-color-cancel-contrast);border-color:var(--global-color-borders);border-width:1px;border-style:solid;text-align:center; }button[type=submit],.tui-modal-form-submit-button,.tui-modal-form-open-button { background-color:var(--global-color-action);color:var(--global-color-action-contrast);border-color:var(--global-color-action);border-style:solid; }/* NAV BUTTON */.tui-navbutton {    display: inline;}/* Overriding some style of submit buttons */.tui-navbutton>button {	background-color: var(--global-color-cancel);	border: 1px solid var(--global-color-border);}/* TABLE */table {    width: 100%;    border-collapse: collapse;    border-radius: 2px;    border: 1px solid var(--global-color-border);    margin: 10px 0px 10px 0px;}th, td {    border: 1px solid var(--global-color-border);;}th {    text-align: center;    padding: 5px 10px 5px 10px;    font-weight: bold;}td {    text-align: left;    padding: 2px 10px 2px 10px;    vertical-align: middle;}.tui-hidden-column {    display: none;}.tui-hidden-head {    display: none;}tr:hover {    background-color: var(--table-color-row-hover);}.tui-tablepicker td {    cursor: pointer;}.tui-table-navigation {    padding-top: 5px;    padding-bottom: 5px;}.tui-table-navigation>button {	margin-right: 5px;}/* FETCH ERRORS */.fetch-error {    border: 2px solid var(--global-color-fetch-error);}.fetch-error-message {    font-size: 0.7em;    background-color: var(--global-color-fetch-error);    color: var(--global-color-fetch-error-contrast);}</style><script>const SESSION_PARAMS={};const FETCH_TYPE='JSON'</script></head><body class="tui-grid" style="grid-template-columns:100%;grid-template-rows:min-content auto min-content;"><main><div class="tui-grid tui-vertical-flow" style="grid-template-columns:minmax(20px,1fr) minmax(65em,1fr) minmax(20px,1fr);grid-template-rows:auto;justify-self:stretch;place-items:center;"><p/><div class="tui-grid" style="grid-template-columns:1fr;"><div class="tui-vertical-spacing-normal" style="text-align:center;"><section style="margin:auto;"><h1>Overview</h1><p class="tui-align-left tui-border-off"><span>TUI is a Java library that helps building and testing web UI by using Java code only.</span></p><p class="tui-align-left tui-border-off"><span>In this chapter we will see how to create a dynamic page, how to provide it, and how to test it.</span></p><section><h2>Creating a page</h2><p class="tui-align-left tui-border-off"><span>Here is an example to create a new page made of one section containing a paragraph:</span></p><p class="tui-align-left tui-border-off" style="background-color:#f0f0f0;border-color:#c8c8c8;border-radius:3px;border-style:solid;border-width:1px;color:#000000;line-height:1.4;padding:5px 5px 5px 5px;"><span style="color:#123dc3;font-family:Consolas;">Page</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">page</span><span style="font-family:Consolas;"> = </span><span style="color:#b66025;font-family:Consolas;">new</span><span style="font-family:Consolas;"> </span><span style="color:#123dc3;font-family:Consolas;">Page</span><span style="font-family:Consolas;">(</span><span style="color:#22c143;font-family:Consolas;">"Index"</span><span style="font-family:Consolas;">, </span><span style="color:#22c143;font-family:Consolas;">"/index"</span><span style="font-family:Consolas;">);<br/></span><span style="color:#123dc3;font-family:Consolas;">Section</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">chapter1</span><span style="font-family:Consolas;"> = </span><span style="font-family:Consolas;">page</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">append</span><span style="font-family:Consolas;">(</span><span style="color:#b66025;font-family:Consolas;">new</span><span style="font-family:Consolas;"> </span><span style="color:#123dc3;font-family:Consolas;">Section</span><span style="font-family:Consolas;">(</span><span style="color:#22c143;font-family:Consolas;">"Title for first chapter"</span><span style="font-family:Consolas;">));<br/></span><span style="font-family:Consolas;">chapter1</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">appendParagraph</span><span style="font-family:Consolas;">(</span><span style="color:#22c143;font-family:Consolas;">"Here is my text..."</span><span style="font-family:Consolas;">);<br/></span></p><p class="tui-align-left tui-border-off"><span>Now that our page is ready, we want it to be shown. The first way to get it done is by exporting this page as a static HTML file:</span></p><p class="tui-align-left tui-border-off" style="background-color:#f0f0f0;border-color:#c8c8c8;border-radius:3px;border-style:solid;border-width:1px;color:#000000;line-height:1.4;padding:5px 5px 5px 5px;"><span style="color:#123dc3;font-family:Consolas;">Style</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">style</span><span style="font-family:Consolas;"> = </span><span style="color:#b66025;font-family:Consolas;">new</span><span style="font-family:Consolas;"> </span><span style="color:#123dc3;font-family:Consolas;">Style</span><span style="font-family:Consolas;">();<br/></span><span style="color:#123dc3;font-family:Consolas;">HTMLNode</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">htmlNode</span><span style="font-family:Consolas;"> = </span><span style="font-family:Consolas;">page</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">toHTMLNode</span><span style="font-family:Consolas;">(</span><span style="color:#b66025;font-family:Consolas;">new</span><span style="font-family:Consolas;"> </span><span style="color:#123dc3;font-family:Consolas;">Page</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">Resource</span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;">false</span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;">style</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">toCSS</span><span style="font-family:Consolas;">()), </span><span style="font-family:Consolas;">null</span><span style="font-family:Consolas;">);<br/></span><span style="font-family:Consolas;">String</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">html</span><span style="font-family:Consolas;"> = </span><span style="font-family:Consolas;">htmlNode</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">toHTML</span><span style="font-family:Consolas;">();<br/>// '</span><span style="font-family:Consolas;">html</span><span style="font-family:Consolas;">' </span><span style="font-family:Consolas;">string</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">can</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">be</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">put</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">in</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">a</span><span style="font-family:Consolas;"> .</span><span style="font-family:Consolas;">html</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">file</span><span style="font-family:Consolas;">.<br/></span></p><p class="tui-align-left tui-border-off"><span>Note that we must instantiate a Style. This object gives the CSS content for the page to be styled in any web browser. If you want to change spaces, colors, borders, you can customize the Style instance with its methods. The Style instance is given in a Resource that tells that it is embedded into the HTML content of the page (isExternal=false). If we wanted the style to be served as a CSS file by the backend of our application, then we would have set the Resource as external.</span></p><p class="tui-align-left tui-border-off"><span>An other way to provide our page is to use a server application. You may already have your favorite backend solution, but here we will see how it goes using TUI's backend which is initially design for test purpose.</span></p><p class="tui-align-left tui-border-off" style="background-color:#f0f0f0;border-color:#c8c8c8;border-radius:3px;border-style:solid;border-width:1px;color:#000000;line-height:1.4;padding:5px 5px 5px 5px;"><span style="color:#b66025;font-family:Consolas;">final</span><span style="font-family:Consolas;"> </span><span style="color:#123dc3;font-family:Consolas;">TUIBackend</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">backend</span><span style="font-family:Consolas;"> = </span><span style="color:#b66025;font-family:Consolas;">new</span><span style="font-family:Consolas;"> </span><span style="color:#123dc3;font-family:Consolas;">TUIBackend</span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;">8000</span><span style="font-family:Consolas;">);<br/></span><span style="font-family:Consolas;">backend</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">registerPage</span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;">page</span><span style="font-family:Consolas;">);<br/></span><span style="font-family:Consolas;">backend</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">start</span><span style="font-family:Consolas;">();</span></p><p class="tui-align-left tui-border-off"><span>If you run this program, you will be able to see our page by browsing to http://localhost:8000/index</span></p></section><section><h2>Making it interactive</h2><p class="tui-align-left tui-border-off"><span>Now we want to make our page adapt its content against user's actions. Let's say we want our page to help finding pricing data from a large number of items located by their cities.</span></p><p class="tui-align-left tui-border-off"><span>A page is made of components. Almost any component has the ability to be refreshed within the page without the need for reloading the entire page. One thing more, some components handle the user's actions to trigger updates.</span></p><p class="tui-align-left tui-border-off"><span>Let's create a new page, which will display a list of items from the database. We don't want to see all the items at once, so the page gives a field that can be used to filter the items.</span></p><p class="tui-align-left tui-border-off" style="background-color:#f0f0f0;border-color:#c8c8c8;border-radius:3px;border-style:solid;border-width:1px;color:#000000;line-height:1.4;padding:5px 5px 5px 5px;"><span style="color:#123dc3;font-family:Consolas;">Page</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">page</span><span style="font-family:Consolas;"> = </span><span style="color:#b66025;font-family:Consolas;">new</span><span style="font-family:Consolas;"> </span><span style="color:#123dc3;font-family:Consolas;">Page</span><span style="font-family:Consolas;">(</span><span style="color:#22c143;font-family:Consolas;">"Items"</span><span style="font-family:Consolas;">, </span><span style="color:#22c143;font-family:Consolas;">"/items"</span><span style="font-family:Consolas;">);<br/></span><span style="color:#123dc3;font-family:Consolas;">Search</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">search</span><span style="font-family:Consolas;"> = </span><span style="font-family:Consolas;">page</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">append</span><span style="font-family:Consolas;">(</span><span style="color:#b66025;font-family:Consolas;">new</span><span style="font-family:Consolas;"> </span><span style="color:#123dc3;font-family:Consolas;">Search</span><span style="font-family:Consolas;">(</span><span style="color:#22c143;font-family:Consolas;">"Search of items"</span><span style="font-family:Consolas;">, </span><span style="color:#22c143;font-family:Consolas;">"Go"</span><span style="font-family:Consolas;">, </span><span style="color:#22c143;font-family:Consolas;">"nameContains"</span><span style="font-family:Consolas;">));<br/></span><span style="color:#123dc3;font-family:Consolas;">Table</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">table</span><span style="font-family:Consolas;"> = </span><span style="font-family:Consolas;">page</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">append</span><span style="font-family:Consolas;">(</span><span style="color:#b66025;font-family:Consolas;">new</span><span style="font-family:Consolas;"> </span><span style="color:#123dc3;font-family:Consolas;">Table</span><span style="font-family:Consolas;">(</span><span style="color:#22c143;font-family:Consolas;">"Found items"</span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;">List</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">of</span><span style="font-family:Consolas;">(</span><span style="color:#22c143;font-family:Consolas;">"Reference"</span><span style="font-family:Consolas;">, </span><span style="color:#22c143;font-family:Consolas;">"Name"</span><span style="font-family:Consolas;">, </span><span style="color:#22c143;font-family:Consolas;">"Price"</span><span style="font-family:Consolas;">)));<br/></span></p><p class="tui-align-left tui-border-off"><span>Note how components are created and added to the page at the same time.</span></p><p class="tui-align-left tui-border-off"><span>The constructor of Search component takes 3 parameters: the title, the label of the button, and the name of the parameter that will be sent to the backend.</span></p><p class="tui-align-left tui-border-off"><span>Now we add what will make our page really dynamic:</span></p><p class="tui-align-left tui-border-off" style="background-color:#f0f0f0;border-color:#c8c8c8;border-radius:3px;border-style:solid;border-width:1px;color:#000000;line-height:1.4;padding:5px 5px 5px 5px;"><span style="font-family:Consolas;">table</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">setSource</span><span style="font-family:Consolas;">(</span><span style="color:#22c143;font-family:Consolas;">"/table"</span><span style="font-family:Consolas;">);<br/></span><span style="font-family:Consolas;">search</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">connectListener</span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;">table</span><span style="font-family:Consolas;">);</span></p><p class="tui-align-left tui-border-off"><span>The first line tells that the table can be refreshed, its content given by web service '/table'. The second line tells that the table will be refreshed each time the user validates the search.</span></p><p class="tui-align-left tui-border-off"><span>Because the refresh of the table is triggered by the Search component, the '/table' web service will be called with additional parameter 'nameContains' which value will be the string entered by the user in the Search input.</span></p><p class="tui-align-left tui-border-off"><span>Let's put some data into our backend:</span></p><p class="tui-align-left tui-border-off" style="background-color:#f0f0f0;border-color:#c8c8c8;border-radius:3px;border-style:solid;border-width:1px;color:#000000;line-height:1.4;padding:5px 5px 5px 5px;"><span style="color:#b66025;font-family:Consolas;">record</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">Item</span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;">String</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">reference</span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;">String</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">name</span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;">double</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">price</span><span style="font-family:Consolas;">_</span><span style="font-family:Consolas;">Euro</span><span style="font-family:Consolas;">) {}</span></p><p class="tui-align-left tui-border-off" style="background-color:#f0f0f0;border-color:#c8c8c8;border-radius:3px;border-style:solid;border-width:1px;color:#000000;line-height:1.4;padding:5px 5px 5px 5px;"><span style="color:#b66025;font-family:Consolas;">final</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">List</span><span style="font-family:Consolas;"><</span><span style="font-family:Consolas;">Item</span><span style="font-family:Consolas;">> </span><span style="font-family:Consolas;">allItems</span><span style="font-family:Consolas;"> = </span><span style="color:#b66025;font-family:Consolas;">new</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">ArrayList</span><span style="font-family:Consolas;"><>();<br/>	</span><span style="font-family:Consolas;">for</span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;">int</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">i</span><span style="font-family:Consolas;"> = </span><span style="font-family:Consolas;">0</span><span style="font-family:Consolas;">; </span><span style="font-family:Consolas;">i</span><span style="font-family:Consolas;"> < </span><span style="font-family:Consolas;">50</span><span style="font-family:Consolas;">; </span><span style="font-family:Consolas;">i</span><span style="font-family:Consolas;">++) {<br/>		</span><span style="font-family:Consolas;">allItems</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">add</span><span style="font-family:Consolas;">(</span><span style="color:#b66025;font-family:Consolas;">new</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">Item</span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;">String</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">format</span><span style="font-family:Consolas;">(</span><span style="color:#22c143;font-family:Consolas;">"I%012d"</span><span style="font-family:Consolas;">, (</span><span style="font-family:Consolas;">int</span><span style="font-family:Consolas;">) (</span><span style="font-family:Consolas;">Math</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">random</span><span style="font-family:Consolas;">() * </span><span style="font-family:Consolas;">1</span><span style="font-family:Consolas;">_</span><span style="font-family:Consolas;">000</span><span style="font-family:Consolas;">_</span><span style="font-family:Consolas;">000</span><span style="font-family:Consolas;">_</span><span style="font-family:Consolas;">000</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">0</span><span style="font-family:Consolas;">)), </span><span style="color:#123dc3;font-family:Consolas;">TestUtils</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">getRandomCityName</span><span style="font-family:Consolas;">(),<br/>			</span><span style="font-family:Consolas;">Math</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">random</span><span style="font-family:Consolas;">() * </span><span style="font-family:Consolas;">10</span><span style="font-family:Consolas;">_</span><span style="font-family:Consolas;">000</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">0</span><span style="font-family:Consolas;">));<br/>	}</span></p><p class="tui-align-left tui-border-off"><span>The list 'allItems' will act as a database. Now we implement the web service that is expected to refresh the table component:</span></p><p class="tui-align-left tui-border-off" style="background-color:#f0f0f0;border-color:#c8c8c8;border-radius:3px;border-style:solid;border-width:1px;color:#000000;line-height:1.4;padding:5px 5px 5px 5px;"><span style="font-family:Consolas;">backend</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">registerWebService</span><span style="font-family:Consolas;">(</span><span style="color:#22c143;font-family:Consolas;">"/table"</span><span style="font-family:Consolas;">,<br/>	(</span><span style="font-family:Consolas;">uri</span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;">request</span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;">response</span><span style="font-family:Consolas;">) -> {<br/>		</span><span style="color:#b66025;font-family:Consolas;">final</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">RequestReader</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">reader</span><span style="font-family:Consolas;"> = </span><span style="color:#b66025;font-family:Consolas;">new</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">RequestReader</span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;">request</span><span style="font-family:Consolas;">);<br/>		</span><span style="color:#b66025;font-family:Consolas;">final</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">String</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">nameContains</span><span style="font-family:Consolas;"> = </span><span style="font-family:Consolas;">reader</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">getStringParameter</span><span style="font-family:Consolas;">(</span><span style="color:#22c143;font-family:Consolas;">"nameContains"</span><span style="font-family:Consolas;">, </span><span style="color:#22c143;font-family:Consolas;">""</span><span style="font-family:Consolas;">);<br/>		</span><span style="color:#b66025;font-family:Consolas;">final</span><span style="font-family:Consolas;"> </span><span style="color:#123dc3;font-family:Consolas;">Table</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">filteredTable</span><span style="font-family:Consolas;"> = </span><span style="color:#b66025;font-family:Consolas;">new</span><span style="font-family:Consolas;"> </span><span style="color:#123dc3;font-family:Consolas;">Table</span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;">table</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">getTitle</span><span style="font-family:Consolas;">(), </span><span style="font-family:Consolas;">table</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">getColumns</span><span style="font-family:Consolas;">());<br/>		</span><span style="font-family:Consolas;">allItems</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">stream</span><span style="font-family:Consolas;">()<br/>			.</span><span style="font-family:Consolas;">filter</span><span style="font-family:Consolas;">((</span><span style="font-family:Consolas;">item</span><span style="font-family:Consolas;">) -> </span><span style="font-family:Consolas;">nameContains</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">trim</span><span style="font-family:Consolas;">().</span><span style="font-family:Consolas;">isEmpty</span><span style="font-family:Consolas;">() || </span><span style="font-family:Consolas;">item</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">name</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">contains</span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;">nameContains</span><span style="font-family:Consolas;">))<br/>			.</span><span style="font-family:Consolas;">forEach</span><span style="font-family:Consolas;">((</span><span style="font-family:Consolas;">item</span><span style="font-family:Consolas;">) -> </span><span style="font-family:Consolas;">filteredTable</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">append</span><span style="font-family:Consolas;">(<br/>				</span><span style="font-family:Consolas;">Map</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">of</span><span style="font-family:Consolas;">(</span><span style="color:#22c143;font-family:Consolas;">"Reference"</span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;">item</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">reference</span><span style="font-family:Consolas;">, </span><span style="color:#22c143;font-family:Consolas;">"Name"</span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;">item</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">name</span><span style="font-family:Consolas;">, </span><span style="color:#22c143;font-family:Consolas;">"Price"</span><span style="font-family:Consolas;">,<br/>					</span><span style="font-family:Consolas;">String</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">format</span><span style="font-family:Consolas;">(</span><span style="color:#22c143;font-family:Consolas;">"%.2f €"</span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;">item</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">price</span><span style="font-family:Consolas;">_</span><span style="font-family:Consolas;">Euro</span><span style="font-family:Consolas;">))));<br/>		</span><span style="font-family:Consolas;">return</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">filteredTable</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">toJsonMap</span><span style="font-family:Consolas;">();<br/>	});</span></p><p class="tui-align-left tui-border-off"><span>Our page is ready to run. Launch the main of the class </span><span style="font-weight:bold;">OverviewExample</span><span> and try it by yourself.</span></p></section><section><h2>Automated testing</h2><p class="tui-align-left tui-border-off"><span>Let's summarize. Our page contains a table that aims at displaying information of a list of items, and a 'search' component that acts like a filter for the table.</span></p><p class="tui-align-left tui-border-off"><span>We will see now how to perform this test case:</span><ol><li><span>ARRANGE: prepare a complete list of items.</span></li><li><span>ACT: enter some value in the 'search' and submit.</span></li><li><span>ASSERT: check that only filtered items are displayed in the table.</span></li></ol></p><p class="tui-align-left tui-border-off"><span>We have already coded how to create a bunch of items, we will re-use that code for the ARRANGE phase.</span></p><p class="tui-align-left tui-border-off"><span>Now in the ACT phase, we want to use the 'search' component. First of all, we need to open the page, and we do that with a TClient:</span></p><p class="tui-align-left tui-border-off" style="background-color:#f0f0f0;border-color:#c8c8c8;border-radius:3px;border-style:solid;border-width:1px;color:#000000;line-height:1.4;padding:5px 5px 5px 5px;"><span style="color:#b66025;font-family:Consolas;">final</span><span style="font-family:Consolas;"> </span><span style="color:#123dc3;font-family:Consolas;">TClient</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">client</span><span style="font-family:Consolas;"> = </span><span style="color:#b66025;font-family:Consolas;">new</span><span style="font-family:Consolas;"> </span><span style="color:#123dc3;font-family:Consolas;">TClient</span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;">8000</span><span style="font-family:Consolas;">);<br/></span><span style="font-family:Consolas;">client</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">open</span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;">page</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">getSource</span><span style="font-family:Consolas;">());</span></p><p class="tui-align-left tui-border-off"><span>The TClient will replace a web browser in our test. It is a light client implementation that  almost behaves like a real browser running the TUI's javascript. The main difference is that the TClient doesn't manage any style.</span></p><p class="tui-align-left tui-border-off"><span>Let's try the filter with an empty value. We will expected to get all the items.</span></p><p class="tui-align-left tui-border-off" style="background-color:#f0f0f0;border-color:#c8c8c8;border-radius:3px;border-style:solid;border-width:1px;color:#000000;line-height:1.4;padding:5px 5px 5px 5px;"><span style="color:#b66025;font-family:Consolas;">final</span><span style="font-family:Consolas;"> </span><span style="color:#123dc3;font-family:Consolas;">TSearch</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">search</span><span style="font-family:Consolas;"> = </span><span style="font-family:Consolas;">client</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">getSearch</span><span style="font-family:Consolas;">(</span><span style="color:#22c143;font-family:Consolas;">"Search of items"</span><span style="font-family:Consolas;">);<br/></span><span style="font-family:Consolas;">search</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">enterInput</span><span style="font-family:Consolas;">(</span><span style="color:#22c143;font-family:Consolas;">"nameContains"</span><span style="font-family:Consolas;">, </span><span style="color:#22c143;font-family:Consolas;">""</span><span style="font-family:Consolas;">); // </span><span style="font-family:Consolas;">will</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">select</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">all</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">items</span><span style="font-family:Consolas;"><br/></span><span style="font-family:Consolas;">search</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">submit</span><span style="font-family:Consolas;">();</span></p><p class="tui-align-left tui-border-off"><span>We can then add a simple assertion to check that now the table is loaded with all the items:</span></p><p class="tui-align-left tui-border-off" style="background-color:#f0f0f0;border-color:#c8c8c8;border-radius:3px;border-style:solid;border-width:1px;color:#000000;line-height:1.4;padding:5px 5px 5px 5px;"><span style="color:#123dc3;font-family:Consolas;">TTable</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">table</span><span style="font-family:Consolas;"> = </span><span style="font-family:Consolas;">client</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">getTable</span><span style="font-family:Consolas;">(</span><span style="color:#22c143;font-family:Consolas;">"Found items"</span><span style="font-family:Consolas;">);<br/></span><span style="font-family:Consolas;">assertEquals</span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;">50</span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;">table</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">size</span><span style="font-family:Consolas;">());</span></p><p class="tui-align-left tui-border-off"><span>And we can go further and check the filtering functionality of our page by checking that all items of the table match the filter (the following code may not be accurate for a real test, but it shows capabilities):</span></p><p class="tui-align-left tui-border-off" style="background-color:#f0f0f0;border-color:#c8c8c8;border-radius:3px;border-style:solid;border-width:1px;color:#000000;line-height:1.4;padding:5px 5px 5px 5px;"><span style="font-family:Consolas;">// </span><span style="font-family:Consolas;">Testing</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">with</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">one</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">filter</span><span style="font-family:Consolas;"> -> </span><span style="font-family:Consolas;">the</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">table</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">should</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">only</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">contain</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">filtered</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">values</span><span style="font-family:Consolas;"><br/></span><span style="font-family:Consolas;">search</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">enterInput</span><span style="font-family:Consolas;">(</span><span style="color:#22c143;font-family:Consolas;">"nameContains"</span><span style="font-family:Consolas;">, </span><span style="color:#22c143;font-family:Consolas;">"al"</span><span style="font-family:Consolas;">);<br/></span><span style="font-family:Consolas;">search</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">submit</span><span style="font-family:Consolas;">();<br/><br/></span><span style="font-family:Consolas;">table</span><span style="font-family:Consolas;"> = </span><span style="font-family:Consolas;">client</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">getTable</span><span style="font-family:Consolas;">(</span><span style="color:#22c143;font-family:Consolas;">"Found items"</span><span style="font-family:Consolas;">);<br/></span><span style="font-family:Consolas;">assertFalse</span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;">table</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">isEmpty</span><span style="font-family:Consolas;">());<br/></span><span style="font-family:Consolas;">for</span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;">List</span><span style="font-family:Consolas;"><</span><span style="font-family:Consolas;">Object</span><span style="font-family:Consolas;">> </span><span style="font-family:Consolas;">row</span><span style="font-family:Consolas;"> : </span><span style="font-family:Consolas;">table</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">getRows</span><span style="font-family:Consolas;">()) {<br/>	</span><span style="color:#b66025;font-family:Consolas;">final</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">String</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">name</span><span style="font-family:Consolas;"> = </span><span style="font-family:Consolas;">row</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">get</span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;">1</span><span style="font-family:Consolas;">).</span><span style="font-family:Consolas;">toString</span><span style="font-family:Consolas;">();<br/>	</span><span style="font-family:Consolas;">assertTrue</span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;">name</span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;">contains</span><span style="font-family:Consolas;">(</span><span style="color:#22c143;font-family:Consolas;">"al"</span><span style="font-family:Consolas;">));<br/>}</span></p><p class="tui-align-left tui-border-off"><span>You can find a running version of that code in the test class </span><span style="font-weight:bold;">OverviewExample</span><span>.</span></p></section></section></div></div><p/></div></main><footer><div class="tui-panel tui-align-left"></div></footer></body></html>